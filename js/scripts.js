"use strict";function hidePreloader(){jQuery(document).ready(function(e){e(".preloader").delay(1e3).fadeOut(500),setTimeout(function(){e("body.loading").removeClass("loading")},1e3)})}window.addEventListener("load",hidePreloader,!1),jQuery(document).ready(function(e){function t(e){var t=Math.floor(e),n=Math.floor(t/60);return n=n>=10?n:"0"+n,t=Math.floor(t%60),t=t>=10?t:"0"+t,n+":"+t}function n(t){var n=e(t.target),i=n.hasClass("mejs__horizontal-volume-total")?n:n.hasClass("mejs__horizontal-volume-slider")?n.find(".mejs__horizontal-volume-total"):n.parents(".mejs__horizontal-volume-slider").find(".mejs__horizontal-volume-total"),o=i.width(),r=i.offset(),a=void 0!==t.pageX?t.pageX-r.left:0,s=a/o;e(".mejs__horizontal-volume-current").css({left:0,width:100*s+"%"}),m.setVolume(s)}function i(){function t(t){var n=e(".js-video-slider"),i=n.find(".video__column:not(:first-child)"),o=i.find(".video__placeholder"),r="";o.each(function(e,n){0==e&&(r+='<li class="video__column">'),r+=n.outerHTML,(e+1)%t==0&&(r+='</li><li class="video__column">'),e==o.length&&(r+="</li>")}),i.remove(),n.find(".uk-slider-items").append(r)}s[0].innerWidth<767?1!=x&&(t(1),x=1):s[0].innerWidth>=768&&s[0].innerWidth<a.l?2!=x&&(t(2),x=2):3!=x&&(t(3),x=3)}function o(){e(".video, .news").each(function(t,n){var i=e(n).find(".uk-slider"),o=e(n).find(".uk-slidenav-next"),r=e(n).find(".uk-slidenav-previous");if(s[0].innerWidth>=1920){var a=(s[0].innerWidth-i.innerWidth())/2;o.css("right",o.width()-a),r.css("left",r.width()-a)}else o.css("right",0),r.css("left",0)})}function r(t){var n=t,i=!1,o={success:"Your message was successfully sent!",fail:"Can not send message, mail server configutation bug, please try again later",empty:"Please enter fields and try again",error:"Please enter require field(s)",unknown:"Unknown error"},r="";return n.find('input:not([type="submit"]), textarea').each(function(t,n){var a=e(this);void 0!==a.attr("data-require")&&"true"===a.attr("data-require")&&""===a.val()&&(r=o.error,a.addClass("js-field-error"),i=!0)}),i||e.post("mail.php",n.serialize(),function(e){r="success"===e?o.success:"fail"===e?o.fail:"empty"===e?o.empty:o.unknown,n.find(".js-respond").text(r)}).fail(function(e){console.error(e),UIkit.modal.dialog('<p class="uk-modal-body c-dark">'+o.unknown+"</p>")}),n.find(".js-respond").text(r),!1}const a={s:640,m:960,l:1200,xl:1600};var s=e(window);"ontouchstart"in window&&e("body").addClass("is-touch");var l=!1;if(s.on("load scroll resize",function(){s[0].innerWidth>=a.m?s.scrollTop()>s[0].innerHeight?l?l=!1:(e(".panel").fadeIn(),l=!0):l?l=!1:(e(".panel").fadeOut(),l=!0):l?l=!1:(e(".panel").fadeIn(),l=!0)}),UIkit.scrollspyNav(".js-scrollspy-nav",{closest:"li",scroll:!0,offset:s[0].innerWidth>=a.m?80:20}),e(".js-offcanvas-nav").on("click","a",function(){UIkit.offcanvas("#offcanvas-nav").hide()}),e(".js-intro-title").length)for(var u=e(".uk-slideshow-items li"),d=u.find(".js-intro-title"),c="",f="",h=0;h<d.length;h++){c=d.eq(h).text().split(" ");for(var p=0;p<c.length;p++)f+="<span>"+c[p]+"</span>";d.eq(h).after(f),f=""}var m=null,v=e(".js-audio"),g=e(".albums--list .albums__item"),y=e(".js-panel-play"),b=e(".js-audio-play"),w=e(".js-audio-volume, .js-panel-volume");UIkit.util.on(".playlist__wrap .uk-switcher","show",function(){e("html, body").animate({scrollTop:e(".music").offset().top-(s[0].innerWidth>=a.m?80:20)},500)}),v.attr("src",e(".js-audio-items .list__item").eq(0).data("audio")),v.mediaelementplayer({startVolume:1,features:[],success:function(n,i,o){m=n;var r=null,a=e(".list__item--active");a.data("audio");n.addEventListener("playing",function(){var i=n.getCurrentTime();i<1?e(".list__item--active .js-audio-time").text(t(i)):e(".list__item--active .js-audio-time").text(t(i+1)),r=setInterval(function(){n.getCurrentTime()>n.duration&&clearInterval(r),e(".list__item--active .js-audio-time").text(t(n.getCurrentTime()+1))},1e3);var o=e(".list__item--active").parents(".playlist").index();g.removeClass("albums--playing").eq(o).addClass("albums--playing"),setTimeout(function(){g.removeClass("albums--paused"),y.hasClass("icon--play")&&y.removeClass("icon--play").addClass("icon--pause")},100)},!0),n.addEventListener("pause",function(){clearInterval(r),e(".albums--playing").addClass("albums--paused"),y.hasClass("icon--pause")&&y.removeClass("icon--pause").addClass("icon--play")}),n.addEventListener("ended",function(){var t=e(".list__item--active"),n=t.next();clearInterval(r),t.find(".js-audio-play, .js-panel-play").removeClass("icon--pause").addClass("icon--play"),e(".list__item").removeClass("list__item--active"),g.removeClass("albums--playing"),t.find(".js-audio-time").text(""),0!=n.length&&(m.setSrc(n.data("audio")),m.play(),n.addClass("list__item--active"),n.find(".js-audio-play").removeClass("icon--play").addClass("icon--pause"))},!0)},error:function(){UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of audio file</p>')}}),m?(y.on("click",function(t){t.preventDefault();var n=e(this);m.paused?(e(".list__item").hasClass("list__item--active")?e(".list__item--active .js-audio-play").removeClass("icon--play").addClass("icon--pause"):e(".list__item").eq(0).find(".js-audio-play").removeClass("icon--play").addClass("icon--pause"),n.removeClass("icon--play").addClass("icon--pause"),e(".list__item--active .icon--play").removeClass("icon--play").addClass("icon--pause"),m.play(),e(".js-audio-items .list__item").hasClass("list__item--active")||e(".js-audio-items .list__item").eq(0).addClass("list__item--active")):(n.removeClass("icon--pause").addClass("icon--play"),e(".js-audio-play.icon--pause").removeClass("icon--pause").addClass("icon--play"),m.pause())}),b.on("click",function(t){t.preventDefault();var n=e(this),i=e(".list__item--active"),o=n.parent(".list__item"),r=o.data("audio");e(".list__item").removeClass("list__item--active"),o.addClass("list__item--active"),m.paused?(v.attr("src")!==r&&(i.find(".js-audio-time").text(""),m.setSrc(r)),n.add(y).removeClass("icon--play").addClass("icon--pause"),m.play()):(e(".js-audio-play.icon--pause").add(y).removeClass("icon--pause").addClass("icon--play"),m.pause(),v.attr("src")!==r&&(i.find(".js-audio-time").text(""),m.setSrc(r),n.add(y).removeClass("icon--play").addClass("icon--pause"),m.play(),e(".list__item--active").removeClass("list__item--active"),o.addClass("list__item--active")))}),w.on("mousedown",function(t){window.panelVolumeSlide=e(this).on("mousemove",{e:event},n)}).on("mouseup",function(){"undefined"!=typeof panelVolumeSlide&&panelVolumeSlide.off("mousemove")}).on("mouseleave",function(){"undefined"!=typeof panelVolumeSlide&&panelVolumeSlide.off("mousemove")}).on("click",{e:event},n)):UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of audio file</p>');var x=3;i(),s.on("resize",i),e(".js-video-target").on("click",function(t){t.preventDefault(),e(".modal__video video").remove();var n=e(this).data("video-src"),i=e(this).data("video-type");e(".modal__video").append('<video controls preload="auto"><source src="" type=""></video>'),e(".modal__video source").attr({src:n,type:i}),UIkit.modal("#modal-video").show(),e(".modal__video video").mediaelementplayer({startVolume:1,alwaysShowControls:!0,stretching:"responsive",videoVolume:"horizontal",success:function(e,t,n){m.paused||m.pause(),e.play()},error:function(e,t,n){UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of video file</p>')}})}),UIkit.util.on("#modal-video","hidden",function(){e("#modal-video .mejs__video").remove()}),o(),s.on("resize",o),e(".js-form").submit(function(){return r(e(this)),!1}),e(".js-form").find('input:not([type="submit"]), textarea').bind("change paste keyup",function(){var t=e(this),n=t.parents(".js-form").find(".js-respond");e(this).hasClass("js-field-error")&&e(this).removeClass("js-field-error"),""!==n.text()&&n.text("")}),e.instagramFeed({username:"the.nika.envato",callback:function(t){for(var n=t.edge_owner_to_timeline_media.edges,i=n.length<5?n.length:5,o="",r=0;r<i;r++)o+='<div><a href="https://www.instagram.com/p/'+n[r].node.shortcode+'" target="_blank" class="cover__photo uk-background-cover uk-transition-toggle '+(2==r?"uk-visible@s":3==r||4==r?"uk-visible@m":"")+'" src="'+n[r].node.thumbnail_src+'" data-src="'+n[r].node.thumbnail_src+'" data-uk-img><span class="cover__link uk-box-shadow-large fab fa-instagram uk-transition-scale-up"></span></a></div>';e("#instafeed").html(o)}}),e(".js-scrollbar").mCustomScrollbar(),UIkit.util.on(".js-modal-article","show",function(){function t(){if(n.find('[class^="cover__photo"]')&&n.find(".js-scrollbar")){var e=n.find('[class^="cover__photo"]'),t=e.innerHeight(),i=n.find(".js-scrollbar"),o=i.parent(),r=parseInt(o.css("padding-top")),a=parseInt(o.css("padding-bottom"));n.find(".js-scrollbar").css("max-height",t-r-a)}}var n=e(this);t(),window.resizeCSB=s.on("resize",t)}),UIkit.util.on(".js-modal-article","hidden",function(){resizeCSB.off("resize")})});